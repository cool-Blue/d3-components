<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <a href="http://stackoverflow.com/questions/31352370/using-d3-to-append-colored-circles-based-on-data/31352953?noredirect=1#comment50688573_31352953"></a>
  <style>
    svg {
      outline: 1px solid red;
    }
  </style>
</head>
<body>
<div id="viz"><div>scroll to update...</div></div>
<script src="d3 CB.js"></script>
<script>
  var margin = {top: 20, right: 20, bottom: 30, left: 30},
    width = 600 - margin.left - margin.right,
    height = 50 - margin.top - margin.bottom;

  var x = d3.scale.linear()
      .range([0, width])
      .domain([0, 100]),
    zoom = d3.behavior.zoom()
      .scaleExtent([1, 8])
      .x(x)
      .on("zoom", onZoom);

  var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom")
    .ticks(10);

  var svg = d3.select("#viz").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .call(zoom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")"),
    gXaxis = svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")");

  function onZoom(){
    gXaxis.call(xAxis);

    gXaxis
      .datum(x.ticks(xAxis.ticks()[0]))
      .selectAll('.tick')
      .data(function(d){
        return d
      })
      .selectAll('circle')
      .data(function(d){
        return [d]
      })
      .enter().insert('circle', "line")
      .style( "fill", function (d, i, j) {
        return d3.scale.category20().range()[j] ;
      })
      .attr('r', 7.5)
      .attr('cy',function(){return 16 + i});
    i++;
  }
  onZoom();
</script>
</body>
</html>